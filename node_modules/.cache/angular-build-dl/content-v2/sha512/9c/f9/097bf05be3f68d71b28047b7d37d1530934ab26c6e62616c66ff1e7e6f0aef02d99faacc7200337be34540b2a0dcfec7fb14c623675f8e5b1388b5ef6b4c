{"version":3,"sources":["webpack:///src/app/pages/historial-detalle/historial-detalle.page.html","webpack:///src/app/pages/historial-detalle/historial-detalle-routing.module.ts","webpack:///src/app/pages/historial-detalle/historial-detalle.module.ts","webpack:///src/app/pages/historial-detalle/historial-detalle.page.scss","webpack:///src/app/pages/historial-detalle/historial-detalle.page.ts"],"names":["routes","path","component","HistorialDetallePageRoutingModule","imports","forChild","exports","HistorialDetallePageModule","declarations","HistorialDetallePage","activateRouter","router","directionsService","google","maps","DirectionsService","directionsDisplay","DirectionsRenderer","paramMap","subscribe","data","historialViaje","JSON","parse","params","datos","console","log","startidLocation","date","Date","startDate","anio","getFullYear","mes","String","getMonth","padStart","dia","getDate","hora","getHours","minuto","getMinutes","loadMap","mapEle","document","getElementById","map","Map","center","zoom","zoomControl","mapTypeControl","streetViewControl","fullscreenControl","setMap","calcularRuta","route","origin","destination","endidLocation","travelMode","TravelMode","DRIVING","response","status","DirectionsStatus","OK","setDirections","alert","navigate","selector","template"],"mappings":"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","file":"pages-historial-detalle-historial-detalle-module-es5.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\r\\n  <ion-toolbar class=\\\"toolbar-bg\\\">\\r\\n    <div class=\\\"toolbar-content\\\">\\r\\n      <ion-button fill=\\\"clear\\\" slot=\\\"start\\\">\\r\\n        <ion-menu-button color= \\\"light\\\" slot=\\\"start\\\"></ion-menu-button>\\r\\n      </ion-button>\\r\\n\\r\\n\\r\\n        <img class=\\\"center-img\\\" src=\\\"assets/imgs/LOGO1.png\\\">\\r\\n     \\r\\n\\r\\n      <ion-avatar>\\r\\n        <img src=\\\"assets/icon/avatar.png\\\">\\r\\n      </ion-avatar>\\r\\n\\r\\n    </div>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n   <div #map id=\\\"mapaHistorial\\\"></div>\\r\\n   \\r\\n  <div class='mid'>\\r\\n    <div class=\\\"cabecera\\\">\\r\\n      Detalles del viaje\\r\\n    </div>\\r\\n\\r\\n    <ion-grid>\\r\\n      <ion-row>\\r\\n        <ion-col>\\r\\n          <ion-row><ion-label class=\\\"titulo\\\">Ubicacion Inicial:</ion-label></ion-row>\\r\\n          <ion-row><ion-label>{{historialViaje.startAddress}}</ion-label></ion-row>\\r\\n        </ion-col>\\r\\n\\r\\n        <ion-col> \\r\\n          <ion-row><ion-label class=\\\"titulo\\\">Ubicacion Final:</ion-label></ion-row>\\r\\n          <ion-row><ion-label>{{historialViaje.endAddress}}</ion-label></ion-row>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n\\r\\n      <ion-row>\\r\\n        <ion-col>\\r\\n          <ion-row><ion-label class=\\\"titulo\\\">Fecha y Hora:</ion-label></ion-row>\\r\\n          <ion-row><ion-label>{{anio}}/{{mes}}/{{dia}} -- {{hora}}:{{minuto}}</ion-label></ion-row>\\r\\n        </ion-col>\\r\\n\\r\\n        <ion-col>\\r\\n          <ion-row><ion-label class=\\\"titulo\\\">Tipo de servicio:</ion-label></ion-row>\\r\\n          <ion-row><ion-label>{{historialViaje.idTypeService}}</ion-label></ion-row>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n\\r\\n      <ion-row>\\r\\n        <ion-col>\\r\\n          <ion-row><ion-label class=\\\"titulo\\\">Total:</ion-label></ion-row>\\r\\n          <ion-row><ion-label>$4.23</ion-label></ion-row>\\r\\n        </ion-col>\\r\\n\\r\\n        <ion-col>\\r\\n          <ion-row><ion-label class=\\\"titulo\\\">Estado Servicio:</ion-label></ion-row>\\r\\n          <ion-row><ion-label>Finalizado</ion-label></ion-row> <!--Cambiar cuando se tengan los estados del servicio-->\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n    </ion-grid>\\r\\n    <div class=\\\"btns\\\">\\r\\n      <ion-button id=\\\"botonAceptar\\\" (click)=\\\"botonAceptar()\\\">Aceptar</ion-button>\\r\\n    </div>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { HistorialDetallePage } from './historial-detalle.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: HistorialDetallePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class HistorialDetallePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { HistorialDetallePageRoutingModule } from './historial-detalle-routing.module';\r\n\r\nimport { HistorialDetallePage } from './historial-detalle.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    HistorialDetallePageRoutingModule\r\n  ],\r\n  declarations: [HistorialDetallePage]\r\n})\r\nexport class HistorialDetallePageModule {}\r\n","export default \"#mapaHistorial {\\n  width: 100%;\\n  height: 60%;\\n  display: block;\\n}\\n\\n.mid {\\n  width: 99vw;\\n  text-align: center;\\n  background-color: white;\\n}\\n\\n.cabecera {\\n  height: 40px;\\n  background: linear-gradient(-90deg, #20478B, #2487C9);\\n  display: flex;\\n  justify-content: center;\\n  align-content: center;\\n  flex-direction: column;\\n  color: white;\\n}\\n\\n.titulo {\\n  color: #9A999E;\\n}\\n\\nion-row {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.price {\\n  font-size: 18px;\\n  color: red;\\n}\\n\\n#botonAceptar {\\n  text-align: center;\\n  width: 95%;\\n  --background: red !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvaGlzdG9yaWFsLWRldGFsbGUvQzpcXFVzZXJzXFxtZWRpblxcRGVza3RvcFxcVmVoaWN1bGFyLTVmYzFlYjI3MTgyYmRkZDBiZTdkMTY1YzYzZTEyZmUwNTZiZWYxOTMvc3JjXFxhcHBcXHBhZ2VzXFxoaXN0b3JpYWwtZGV0YWxsZVxcaGlzdG9yaWFsLWRldGFsbGUucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9oaXN0b3JpYWwtZGV0YWxsZS9oaXN0b3JpYWwtZGV0YWxsZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxXQUFBO0VBQ0EsV0FBQTtFQUNBLGNBQUE7QUNDSjs7QURFQTtFQUVJLFdBQUE7RUFFQSxrQkFBQTtFQUNBLHVCQUFBO0FDREo7O0FES0E7RUFDSSxZQUFBO0VBQ0EscURBQUE7RUFDQSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxxQkFBQTtFQUNBLHNCQUFBO0VBQ0EsWUFBQTtBQ0ZKOztBREtBO0VBQ0ksY0FBQTtBQ0ZKOztBRElBO0VBQ0ksYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7QUNESjs7QURHQTtFQUNJLGVBQUE7RUFDQSxVQUFBO0FDQUo7O0FERUE7RUFDSSxrQkFBQTtFQUNBLFVBQUE7RUFDQSw0QkFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvaGlzdG9yaWFsLWRldGFsbGUvaGlzdG9yaWFsLWRldGFsbGUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI21hcGFIaXN0b3JpYWx7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogNjAlO1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbn1cclxuXHJcbi5taWR7XHJcbiAgICAvL2JvcmRlcjogYmxhY2sgMXB4IHNvbGlkO1xyXG4gICAgd2lkdGg6IDk5dnc7XHJcbiAgICAvL3dpZHRoOiAzNzBweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgXHJcbn1cclxuXHJcbi5jYWJlY2VyYXtcclxuICAgIGhlaWdodDogNDBweDtcclxuICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgtOTBkZWcsIzIwNDc4QiAsIzI0ODdDOSk7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG59XHJcblxyXG4udGl0dWxve1xyXG4gICAgY29sb3I6ICM5QTk5OUU7XHJcbn1cclxuaW9uLXJvd3tcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuLnByaWNle1xyXG4gICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgY29sb3I6IHJlZDtcclxufVxyXG4jYm90b25BY2VwdGFye1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgd2lkdGg6IDk1JTtcclxuICAgIC0tYmFja2dyb3VuZDogcmVkICFpbXBvcnRhbnQ7XHJcbn0iLCIjbWFwYUhpc3RvcmlhbCB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDYwJTtcbiAgZGlzcGxheTogYmxvY2s7XG59XG5cbi5taWQge1xuICB3aWR0aDogOTl2dztcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbn1cblxuLmNhYmVjZXJhIHtcbiAgaGVpZ2h0OiA0MHB4O1xuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoLTkwZGVnLCAjMjA0NzhCLCAjMjQ4N0M5KTtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG4udGl0dWxvIHtcbiAgY29sb3I6ICM5QTk5OUU7XG59XG5cbmlvbi1yb3cge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuLnByaWNlIHtcbiAgZm9udC1zaXplOiAxOHB4O1xuICBjb2xvcjogcmVkO1xufVxuXG4jYm90b25BY2VwdGFyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB3aWR0aDogOTUlO1xuICAtLWJhY2tncm91bmQ6IHJlZCAhaW1wb3J0YW50O1xufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\r\nimport { HistorialPage } from 'src/app/pages/historial/historial.page'\r\nimport { ActivatedRoute, Router } from '@angular/router'\r\n\r\ndeclare var google;\r\n\r\n@Component({\r\n  selector: 'app-historial-detalle',\r\n  templateUrl: './historial-detalle.page.html',\r\n  styleUrls: ['./historial-detalle.page.scss'],\r\n})\r\nexport class HistorialDetallePage implements OnInit {\r\n\r\n  historialViaje: any;\r\n  map: any;\r\n  directionsService = new google.maps.DirectionsService();\r\n  directionsDisplay = new google.maps.DirectionsRenderer();\r\n  latLngInicial: any;\r\n  anio: any;\r\n  mes: any;\r\n  dia: any;\r\n  hora: any;\r\n  minuto: any;\r\n\r\n\r\n  constructor(\r\n    private activateRouter: ActivatedRoute,\r\n    private router: Router\r\n  ) {\r\n    this.activateRouter.paramMap.subscribe((data) =>{\r\n        this.historialViaje = data;\r\n      }\r\n    )\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.historialViaje = JSON.parse(this.historialViaje.params.datos);\r\n    console.log(this.historialViaje);\r\n    console.log(JSON.parse(this.historialViaje.startidLocation))\r\n    let date = new Date(this.historialViaje.startDate);\r\n    this.anio = date.getFullYear(); \r\n    this.mes = String(date.getMonth() + 1).padStart(2, '0');\r\n    this.dia = String(date.getDate()).padStart(2, '0');\r\n    this.hora = String(date.getHours());\r\n    this.minuto =String(date.getMinutes());\r\n    this.loadMap();\r\n  }\r\n\r\n  async loadMap(){\r\n    //Crear nuevo mapa\r\n    const mapEle: HTMLElement = document.getElementById('mapaHistorial');\r\n    // Crear el mapa y renderizarlo\r\n    this.map = new google.maps.Map(mapEle, {\r\n      center: JSON.parse(this.historialViaje.startidLocation),\r\n      zoom: 15,\r\n      zoomControl:false,\r\n      mapTypeControl:false,\r\n      streetViewControl:false,\r\n      fullscreenControl:false\r\n    });\r\n\r\n    this.directionsDisplay.setMap(this.map);\r\n    this.calcularRuta();\r\n  }\r\n\r\n  calcularRuta(){\r\n    this.directionsService.route({\r\n      origin: JSON.parse(this.historialViaje.startidLocation),\r\n      destination: JSON.parse(this.historialViaje.endidLocation),\r\n      travelMode: google.maps.TravelMode.DRIVING,\r\n    }, (response, status)  => {\r\n      if (status === google.maps.DirectionsStatus.OK) {\r\n        this.directionsDisplay.setDirections(response);\r\n      } else {\r\n        alert('Could not display directions due to: ' + status);\r\n      }\r\n    });\r\n  }\r\n\r\n  botonAceptar(){\r\n    this.router.navigate(['historial']);\r\n  }\r\n\r\n}\r\n"]}