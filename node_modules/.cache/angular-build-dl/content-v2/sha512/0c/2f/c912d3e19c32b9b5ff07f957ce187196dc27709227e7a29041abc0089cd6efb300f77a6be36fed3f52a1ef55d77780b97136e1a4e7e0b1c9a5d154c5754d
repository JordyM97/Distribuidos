{"version":3,"sources":["./src/app/pages/detalle-servicio/detalle-servicio.page.html","./src/app/pages/detalle-servicio/detalle-servicio-routing.module.ts","./src/app/pages/detalle-servicio/detalle-servicio.module.ts","./src/app/pages/detalle-servicio/detalle-servicio.page.scss","./src/app/pages/detalle-servicio/detalle-servicio.page.ts"],"names":[],"mappings":"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","file":"pages-detalle-servicio-detalle-servicio-module-es2015.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\r\\n  <ion-toolbar class=\\\"toolbar-bg\\\">\\r\\n    <div class=\\\"toolbar-content\\\">\\r\\n      <ion-button fill=\\\"clear\\\" slot=\\\"start\\\">\\r\\n        <ion-menu-button color=\\\"light\\\" slot=\\\"start\\\"></ion-menu-button>\\r\\n      </ion-button>\\r\\n\\r\\n\\r\\n      <ion-title class=\\\"ion-text-center\\\" text-capitalize>\\r\\n        Servicio en curso\\r\\n      </ion-title>\\r\\n\\r\\n\\r\\n      <ion-avatar>\\r\\n        <img src=\\\"assets/icon/avatar.png\\\">\\r\\n      </ion-avatar>\\r\\n\\r\\n    </div>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div id=\\\"mapaViaje\\\"></div>\\r\\n  <div id=\\\"header\\\">\\r\\n    <h5>DETALLE DEL SERVICIO</h5>\\r\\n  </div>\\r\\n\\r\\n  <div id=\\\"content\\\">\\r\\n    <ion-row><strong>Nombre: </strong>  {{shareData.detallesDriver.data.nombreConductor}} {{shareData.detallesDriver.data.apellidoConductor}}</ion-row>\\r\\n    <ion-row><strong>Calificacion: </strong>  {{shareData.detallesDriver.data.calificacionConductor}}</ion-row>\\r\\n    <ion-row><strong>Celular: </strong>  {{shareData.detallesDriver.data.telefonoConductor}}</ion-row>\\r\\n    \\r\\n    <ion-row><strong>Modelo del vehículo: </strong>  {{shareData.detallesDriver.data.modeloVehiculo}}</ion-row>\\r\\n    <ion-row><strong>Placa del vehículo: </strong>  {{shareData.detallesDriver.data.placaVehiculo}}</ion-row>\\r\\n    <ion-row><strong>Color del vehículo: </strong>  {{shareData.detallesDriver.data.colorVehiculo}}</ion-row>\\r\\n  </div>\\r\\n\\r\\n  <!-- fab que contiene los botones para chat y llamada -->\\r\\n  <ion-fab horizontal=\\\"end\\\" vertical=\\\"bottom\\\" slot=\\\"fixed\\\">\\r\\n    <ion-fab-button color=\\\"light\\\">\\r\\n      <ion-icon name=\\\"share\\\"></ion-icon>\\r\\n    </ion-fab-button>\\r\\n    <ion-fab-list side=\\\"top\\\">\\r\\n      <ion-fab-button color=\\\"primary\\\" (click)=\\\"chatWithClient()\\\">\\r\\n        <ion-icon name=\\\"chatbubble-outline\\\"></ion-icon>\\r\\n      </ion-fab-button>\\r\\n    </ion-fab-list>\\r\\n    \\r\\n    <ion-fab-list side=\\\"start\\\">\\r\\n      <ion-fab-button color=\\\"light\\\" (click)=\\\"callByCellphone()\\\">\\r\\n        <ion-icon name=\\\"call-outline\\\"></ion-icon>\\r\\n      </ion-fab-button>\\r\\n    </ion-fab-list>\\r\\n  </ion-fab>\\r\\n  \\r\\n\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { DetalleServicioPage } from './detalle-servicio.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DetalleServicioPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class DetalleServicioPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { DetalleServicioPageRoutingModule } from './detalle-servicio-routing.module';\r\n\r\nimport { DetalleServicioPage } from './detalle-servicio.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    DetalleServicioPageRoutingModule\r\n  ],\r\n  declarations: [DetalleServicioPage]\r\n})\r\nexport class DetalleServicioPageModule {}\r\n","export default \"ion-content #mapaViaje {\\n  width: 100%;\\n  height: 50%;\\n  opacity: 0;\\n  transition: opacity 150ms ease-in;\\n}\\nion-content #mapaViaje.show-map {\\n  opacity: 1;\\n}\\n#header {\\n  text-align: left;\\n  background: linear-gradient(-90deg, #20478B, #2487C9);\\n  color: white;\\n  font-size: 12px;\\n  height: 50px;\\n  padding-top: 3px;\\n  padding-left: 5px;\\n  /* h5{\\n   height: 100%;    \\n   background: linear-gradient(#20478c ,#2485c9);\\n   color:white;\\n   }*/\\n}\\n#confirmar {\\n  --background: #E5242F;\\n  width: 100%;\\n}\\n#finalizar {\\n  --background:#808289;\\n  width: 100%;\\n}\\n.detalles {\\n  font-weight: bold;\\n}\\n#botones {\\n  display: grid;\\n  width: 100%;\\n  grid-template-rows: repeat(2, 50%);\\n  justify-content: space-evenly;\\n  align-content: center;\\n}\\n#content {\\n  display: grid;\\n  width: 90%;\\n  height: 40%;\\n  padding-left: 5%;\\n  font-size: 16px;\\n  grid-template-rows: 24px 24px repeat(3, 20px);\\n  justify-content: center;\\n  align-content: center;\\n  grid-row: row gap 10px;\\n}\\n#chatbubble {\\n  --padding-top: 15px;\\n}\\n#chatbubbleF {\\n  padding-left: 15px;\\n}\\nion-fab-button {\\n  margin: 5px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvZGV0YWxsZS1zZXJ2aWNpby9DOlxcVXNlcnNcXG1lZGluXFxEb2N1bWVudHNcXEVTUE9MXFxTb2Z0d2FyZTFcXERFVlxcVmVoaWN1bGFyL3NyY1xcYXBwXFxwYWdlc1xcZGV0YWxsZS1zZXJ2aWNpb1xcZGV0YWxsZS1zZXJ2aWNpby5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2RldGFsbGUtc2VydmljaW8vZGV0YWxsZS1zZXJ2aWNpby5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0k7RUFDRSxXQUFBO0VBQ0EsV0FBQTtFQUNBLFVBQUE7RUFDQSxpQ0FBQTtBQ0FOO0FERU07RUFDRSxVQUFBO0FDQVI7QURLRTtFQUNJLGdCQUFBO0VBQ0EscURBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBRUg7Ozs7S0FBQTtBQ0NIO0FEUUU7RUFDRSxxQkFBQTtFQUNBLFdBQUE7QUNMSjtBRFFFO0VBQ0Usb0JBQUE7RUFDQSxXQUFBO0FDTEo7QURRRTtFQUNFLGlCQUFBO0FDTEo7QURPRTtFQUNFLGFBQUE7RUFDQSxXQUFBO0VBQ0Esa0NBQUE7RUFDQSw2QkFBQTtFQUNBLHFCQUFBO0FDSko7QURNRTtFQUNFLGFBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLDZDQUFBO0VBQ0EsdUJBQUE7RUFDQSxxQkFBQTtFQUVBLHNCQUFBO0FDSko7QURRRTtFQUNFLG1CQUFBO0FDTEo7QURPRTtFQUNFLGtCQUFBO0FDSko7QURPRTtFQUNFLFdBQUE7QUNKSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2RldGFsbGUtc2VydmljaW8vZGV0YWxsZS1zZXJ2aWNpby5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudCB7XHJcbiAgICAjbWFwYVZpYWplIHtcclxuICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgIGhlaWdodDogNTAlO1xyXG4gICAgICBvcGFjaXR5OiAwO1xyXG4gICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDE1MG1zIGVhc2UtaW47XHJcbiAgICAgIFxyXG4gICAgICAmLnNob3ctbWFwe1xyXG4gICAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgI2hlYWRlcnsgXHJcbiAgICAgIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgtOTBkZWcsIzIwNDc4QiAsIzI0ODdDOSk7ICAgIFxyXG4gICAgICBjb2xvcjp3aGl0ZTtcclxuICAgICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgICBoZWlnaHQ6NTBweDtcclxuICAgICAgcGFkZGluZy10b3A6IDNweDtcclxuICAgICAgcGFkZGluZy1sZWZ0OiA1cHg7XHJcbiAgXHJcbiAgIC8qIGg1e1xyXG4gICAgaGVpZ2h0OiAxMDAlOyAgICBcclxuICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgjMjA0NzhjICwjMjQ4NWM5KTtcclxuICAgIGNvbG9yOndoaXRlO1xyXG4gICAgfSovXHJcbiAgXHJcbiAgfVxyXG4gIFxyXG4gIFxyXG4gICNjb25maXJtYXJ7XHJcbiAgICAtLWJhY2tncm91bmQ6ICNFNTI0MkY7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICB9XHJcbiAgXHJcbiAgI2ZpbmFsaXphcntcclxuICAgIC0tYmFja2dyb3VuZDojODA4Mjg5O1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgfVxyXG4gIFxyXG4gIC5kZXRhbGxlc3tcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIH1cclxuICAjYm90b25lc3tcclxuICAgIGRpc3BsYXk6IGdyaWQ7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGdyaWQtdGVtcGxhdGUtcm93czpyZXBlYXQoMiw1MCUpIDsgXHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWV2ZW5seTtcclxuICAgIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcclxuICB9XHJcbiAgI2NvbnRlbnR7XHJcbiAgICBkaXNwbGF5OiBncmlkO1xyXG4gICAgd2lkdGg6IDkwJTtcclxuICAgIGhlaWdodDogNDAlO1xyXG4gICAgcGFkZGluZy1sZWZ0OiA1JTtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIGdyaWQtdGVtcGxhdGUtcm93czogMjRweCAyNHB4IHJlcGVhdCgzLDIwcHgpIDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24tY29udGVudDogY2VudGVyO1xyXG4gICAgLy9hbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgZ3JpZC1yb3c6IHJvdyBnYXAgMTBweDtcclxuICBcclxuICB9XHJcbiAgXHJcbiAgI2NoYXRidWJibGV7XHJcbiAgICAtLXBhZGRpbmctdG9wOiAxNXB4O1xyXG4gIH1cclxuICAjY2hhdGJ1YmJsZUZ7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDE1cHg7XHJcbiAgfVxyXG4gIFxyXG4gIGlvbi1mYWItYnV0dG9ue1xyXG4gICAgbWFyZ2luOjVweDtcclxuICB9IiwiaW9uLWNvbnRlbnQgI21hcGFWaWFqZSB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDUwJTtcbiAgb3BhY2l0eTogMDtcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAxNTBtcyBlYXNlLWluO1xufVxuaW9uLWNvbnRlbnQgI21hcGFWaWFqZS5zaG93LW1hcCB7XG4gIG9wYWNpdHk6IDE7XG59XG5cbiNoZWFkZXIge1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoLTkwZGVnLCAjMjA0NzhCLCAjMjQ4N0M5KTtcbiAgY29sb3I6IHdoaXRlO1xuICBmb250LXNpemU6IDEycHg7XG4gIGhlaWdodDogNTBweDtcbiAgcGFkZGluZy10b3A6IDNweDtcbiAgcGFkZGluZy1sZWZ0OiA1cHg7XG4gIC8qIGg1e1xuICAgaGVpZ2h0OiAxMDAlOyAgICBcbiAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgjMjA0NzhjICwjMjQ4NWM5KTtcbiAgIGNvbG9yOndoaXRlO1xuICAgfSovXG59XG5cbiNjb25maXJtYXIge1xuICAtLWJhY2tncm91bmQ6ICNFNTI0MkY7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4jZmluYWxpemFyIHtcbiAgLS1iYWNrZ3JvdW5kOiM4MDgyODk7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4uZGV0YWxsZXMge1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuI2JvdG9uZXMge1xuICBkaXNwbGF5OiBncmlkO1xuICB3aWR0aDogMTAwJTtcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiByZXBlYXQoMiwgNTAlKTtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1ldmVubHk7XG4gIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuI2NvbnRlbnQge1xuICBkaXNwbGF5OiBncmlkO1xuICB3aWR0aDogOTAlO1xuICBoZWlnaHQ6IDQwJTtcbiAgcGFkZGluZy1sZWZ0OiA1JTtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBncmlkLXRlbXBsYXRlLXJvd3M6IDI0cHggMjRweCByZXBlYXQoMywgMjBweCk7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XG4gIGdyaWQtcm93OiByb3cgZ2FwIDEwcHg7XG59XG5cbiNjaGF0YnViYmxlIHtcbiAgLS1wYWRkaW5nLXRvcDogMTVweDtcbn1cblxuI2NoYXRidWJibGVGIHtcbiAgcGFkZGluZy1sZWZ0OiAxNXB4O1xufVxuXG5pb24tZmFiLWJ1dHRvbiB7XG4gIG1hcmdpbjogNXB4O1xufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AlertController, PopoverController } from '@ionic/angular';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { ShareDataService } from 'src/app/services/share-data.service';\r\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\r\nimport { AngularFirestore, AngularFirestoreCollection, AngularFirestoreDocument } from '@angular/fire/firestore';\r\n\r\ndeclare var google;\r\n\r\n@Component({\r\n  selector: 'app-detalle-servicio',\r\n  templateUrl: './detalle-servicio.page.html',\r\n  styleUrls: ['./detalle-servicio.page.scss'],\r\n})\r\nexport class DetalleServicioPage implements OnInit {\r\n  locationCollection: AngularFirestoreCollection<any>;\r\n  location: Observable<any[]>\r\n  Position: AngularFirestoreDocument<any>;\r\n  PositionD: Observable<any>;\r\n  mapa=null;\r\n  marker=null;\r\n  markerD=null;\r\n  \r\n  watch:any;\r\n  origen: any;\r\n  destino: any;\r\n\r\n  //Numero del Cliente, debe llegar en la notificacion\r\n  numberClient:string = \"0989878654\";\r\n\r\n  \r\n  directionsService = new google.maps.DirectionsService();\r\n  directionsDisplay = new google.maps.DirectionsRenderer();\r\n\r\n  nombreNot: string =\"\";\r\n  nombreNotSubs: Subscription;\r\n \r\n\r\n  notObj: object={};\r\n  notObjSub: Subscription;\r\n\r\n  constructor(\r\n    private geolocation: Geolocation,\r\n    public alertController: AlertController,\r\n    public shareData: ShareDataService,\r\n    private router: Router,\r\n    private firestore: AngularFirestore,\r\n    public popoverController: PopoverController,\r\n    //private callNumber: CallNumber,\r\n  ) {\r\n    \r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ionViewWillEnter(){\r\n    this.loadMap();\r\n    this.watchPosition();\r\n    this.watchDriverPos(31);\r\n  }\r\n\r\n  async loadMap() {\r\n\r\n    // create a new map by passing HTMLElement\r\n    const mapEle: HTMLElement = document.getElementById('mapaViaje');\r\n    const indicatorsEle: HTMLElement = document.getElementById('indicators');\r\n\r\n    // create map\r\n    this.mapa = await new google.maps.Map(mapEle, {\r\n      zoom: 17,\r\n      zoomControl:false,\r\n      mapTypeControl:false,\r\n      streetViewControl:false,\r\n      fullscreenControl:false\r\n    });\r\n    await this.directionsDisplay.setMap(this.mapa);\r\n    await google.maps.event.addListenerOnce(this.mapa, 'idle', () => {\r\n      mapEle.classList.add('show-map');\r\n      this.calculateRoute(this.shareData.notificacion.data.inicioCoords,this.shareData.notificacion.data.finCoords);\r\n    }); \r\n    this.locationCollection=this.firestore.collection(`/posicion`);//.collection('hist')doc('1')\r\n\r\n    this.location= this.locationCollection.valueChanges();\r\n    this.location.subscribe(value =>{\r\n      value.forEach(user=>{\r\n        if(user.id='1'){\r\n          const mark={\r\n            lat:Number(user.location.lat),\r\n            lng: Number(user.location.lng+0.3)\r\n          }\r\n          this.markerD = new google.maps.Marker({\r\n            map: this.mapa ,\r\n            icon: new google.maps.MarkerImage('https://maps.gstatic.com/mapfiles/mobile/mobileimgs2.png',\r\n             new google.maps.Size(22, 22),\r\n             new google.maps.Point(0, 18),\r\n             new google.maps.Point(11, 11)),\r\n             position: mark  \r\n           });\r\n          //console.log(user.location.lat)\r\n          //console.log(user.location.lng)\r\n        }\r\n      })\r\n    });   \r\n  }\r\n\r\n  private calculateRoute(ini:any,fin:any){  \r\n    this.directionsService.route({\r\n      origin: JSON.parse(ini) ,\r\n      destination: JSON.parse(fin),\r\n      travelMode: google.maps.TravelMode.DRIVING,\r\n    }, (response, status)  => {\r\n      if (status === google.maps.DirectionsStatus.OK) {\r\n        this.directionsDisplay.setDirections(response);\r\n      } else {\r\n        alert('No se pudo cargar el mapa ' + status);\r\n      }\r\n    });\r\n  }\r\n\r\n  private watchPosition(){\r\n    this.watch= this.geolocation.watchPosition();\r\n    this.watch.subscribe((data)=>{\r\n      if(this.marker!=null){\r\n        this.marker.setMap(null);\r\n        console.log(\"entro\");\r\n      }\r\n      if (\"coords\" in data){\r\n        let lat=data.coords.latitude;\r\n        let lng=data.coords.longitude;\r\n        console.log(\"latitud \"+ lat);\r\n        console.log(\"longitud \"+ lng);\r\n        let latLng=new google.maps.LatLng(lat,lng);\r\n        this.marker = new google.maps.Marker({\r\n          map: this.mapa,\r\n          icon: new google.maps.MarkerImage('https://maps.gstatic.com/mapfiles/mobile/mobileimgs2.png',\r\n          new google.maps.Size(22, 22),\r\n          new google.maps.Point(0, 18),\r\n          new google.maps.Point(11, 11)),\r\n          position: latLng      \r\n        });\r\n      }\r\n      else {\r\n        console.log(\"ERROR WATCH POSITION\");\r\n      }\r\n    })\r\n  }\r\n  watchDriverPos(id: any){\r\n    this.PositionD= this.firestore.doc(`/posicion/${id}`).valueChanges()\r\n    \r\n    this.PositionD.subscribe(val=>{ \r\n      console.log(val.location)\r\n      const myLatLng = {\r\n        lat: JSON.parse(val.location).lat,\r\n        lng: JSON.parse(val.location).lng\r\n      };\r\n      this.markerD=  new google.maps.Marker({\r\n        map: this.mapa ,\r\n        icon: new google.maps.MarkerImage('assets/icon/pointer_proveed.png',\r\n         null,null,null,\r\n         new google.maps.Size(34, 45)),  \r\n         position: myLatLng  \r\n       });\r\n      })\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}